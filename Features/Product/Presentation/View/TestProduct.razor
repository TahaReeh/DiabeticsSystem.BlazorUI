@inherits TestProductBase
@page "/testProduct"

<PageTitle>Products Test</PageTitle>

<h3 class="mb-5">Products</h3>

<FluentCard Width=""
            Height=""
            Class="p-4 shadow">
    <FluentButton IconStart="@(new Icons.Regular.Size16.AddCircle())"
                  Loading="false"
                  Class="mb-3">
        Create Product
    </FluentButton>

    <FluentDataGrid Items="@Items"
                    ResizableColumns=false
                    Pagination="@pagination"
                    GridTemplateColumns="0.2fr 0.8fr 1fr 0.3fr"
                    Style="height: 405px; overflow:auto;">
        <PropertyColumn Property="@(p => p.Number)" Sortable="true" />
        <PropertyColumn Property="@(c => c.Name)"
                        Sortable="true"
                        Tooltip="true"
                        Title="Name">
            <ColumnOptions>
                <div class="search-box">
                    <FluentSearch type="search"
                                  Autofocus=true
                    @bind-Value=nameFilter
                    @oninput="HandleCountryFilter"
                    @bind-Value:after="HandleClear"
                                  Placeholder="Search by Name..." />
                </div>
            </ColumnOptions>
        </PropertyColumn>

        <PropertyColumn Property="@(p => p.Details)" Sortable="true" />
        <TemplateColumn Title="Actions"
                        Tooltip=true>
            <FluentButton IconStart="@(new Icons.Regular.Size16.Edit().WithColor("white"))"
                          Appearance="Appearance.Accent"
                          Color="white"
                          Loading=false
                          Name="Edit">
            </FluentButton>
            <FluentButton IconStart="@(new Icons.Regular.Size16.Delete().WithColor("white"))"
                          Color="white"
                          BackgroundColor="@(ColorConst.BtnDelete)"
                          Loading=false
                          Name="Delete">
            </FluentButton>
        </TemplateColumn>

    </FluentDataGrid>

    <FluentPaginator State="@pagination" />

    <FluentSwitch @bind-Value="@_clearItems"
    @bind-Value:after="ToggleItemsAsync"
                  UncheckedMessage="Clear all results"
                  CheckedMessage="Restore all results">
    </FluentSwitch>


</FluentCard>